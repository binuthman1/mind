<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Viewer - FashionHub</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .email-viewer {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .email-list {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .email-sidebar {
            width: 300px;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
        }
        
        .email-sidebar h3 {
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }
        
        .email-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }
        
        .email-item:hover {
            background-color: #f0f0f0;
        }
        
        .email-item.active {
            background-color: #e9ecef;
        }
        
        .email-item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .email-item-subject {
            font-weight: bold;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .email-item-date {
            font-size: 0.8em;
            color: #777;
        }
        
        .email-item-recipient {
            font-size: 0.9em;
            color: #555;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .email-content {
            flex: 1;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 20px;
            min-height: 500px;
        }
        
        .email-content-header {
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
            margin-bottom: 15px;
        }
        
        .email-content-subject {
            font-size: 1.5em;
            margin-bottom: 10px;
        }
        
        .email-content-meta {
            display: flex;
            justify-content: space-between;
            color: #555;
            font-size: 0.9em;
        }
        
        .email-content-body {
            line-height: 1.6;
        }
        
        .email-content-body iframe {
            width: 100%;
            height: 600px;
            border: none;
        }
        
        .no-emails {
            text-align: center;
            padding: 50px;
            color: #777;
        }
        
        .no-email-selected {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #777;
            text-align: center;
            padding: 50px;
        }
        
        .no-email-selected i {
            font-size: 48px;
            margin-bottom: 20px;
            color: #ddd;
        }
        
        .email-tabs {
            display: flex;
            margin-bottom: 20px;
        }
        
        .email-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }
        
        .email-tab.active {
            border-bottom: 2px solid #007bff;
            font-weight: bold;
        }
        
        .clear-emails {
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="top-header">
            <div class="container">
                <div class="contact-info">
                    <span><i class="fas fa-phone"></i> +2348012345678</span>
                    <span><i class="fas fa-envelope"></i> mindfashionhub@gmail.com</span>
                </div>
                <div class="user-actions">
                    <a href="account.html"><i class="fas fa-user"></i> My Account</a>
                    <a href="" id="logout-link"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
        </div>
        <div class="header-top">
            <div class="container">
                <div class="header-top-left">
                    <ul class="top-menu">
                        <li><a href="#"><i class="fas fa-phone"></i> +234 800 123 4567</a></li>
                        <li><a href="#"><i class="fas fa-envelope"></i> support@fashionhub.com</a></li>
                    </ul>
                </div>
                <div class="header-top-right">
                    <ul class="top-menu">
                        <li><a href="login.html">Login</a></li>
                        <li><a href="register.html">Register</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="header-main">
            <div class="container">
                <div class="logo">
                    <a href="index.html">
                        <h1>FashionHub</h1>
                    </a>
                </div>
                <div class="search-bar">
                    <form action="products.html" method="get">
                        <input type="text" name="search" placeholder="Search for products...">
                        <button type="submit"><i class="fas fa-search"></i></button>
                    </form>
                </div>
                <div class="header-actions">
                    <div class="wishlist-icon">
                        <a href="wishlist.html">
                            <i class="fas fa-heart"></i>
                            <span class="wishlist-count">0</span>
                        </a>
                    </div>
                    <div class="cart-icon">
                        <a href="cart.html">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="cart-count">0</span>
                        </a>
                        <div class="cart-dropdown">
                            <div class="cart-items">
                                <p class="empty-cart">Your cart is empty</p>
                            </div>
                            <div class="cart-total">
                                <span>Total:</span>
                                <span class="total-amount">â‚¦0.00</span>
                            </div>
                            <div class="cart-buttons">
                                <a href="cart.html" class="btn-view-cart">View Cart</a>
                                <a href="checkout.html" class="btn-checkout">Checkout</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header-bottom">
            <div class="container">
                <nav class="main-nav">
                    <ul class="main-menu">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">All Products</a></li>
                        <li><a href="products.html?category=men">Men</a></li>
                        <li><a href="products.html?category=women">Women</a></li>
                        <li><a href="products.html?category=kids">Kids</a></li>
                        <li><a href="products.html?category=accessories">Accessories</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="breadcrumb">
        <div class="container">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li>Email Viewer</li>
            </ul>
        </div>
    </div>

    <div class="email-viewer">
        <h1>Email Viewer</h1>
        <p>This page allows you to view the confirmation emails that would be sent in a real implementation.</p>
        
        <div class="email-tabs">
            <div class="email-tab active" data-type="all">All Emails</div>
            <div class="email-tab" data-type="customer">Customer Emails</div>
            <div class="email-tab" data-type="admin">Admin Emails</div>
        </div>
        
        <div class="email-list">
            <div class="email-sidebar">
                <h3>Sent Emails</h3>
                <div id="email-items">
                    <!-- Email items will be loaded here -->
                </div>
                <div class="clear-emails">
                    <button id="clear-emails" class="btn btn-danger">Clear All Emails</button>
                </div>
            </div>
            
            <div class="email-content" id="email-content">
                <div class="no-email-selected">
                    <i class="fas fa-envelope-open"></i>
                    <h3>No Email Selected</h3>
                    <p>Select an email from the list to view its content.</p>
                </div>
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="footer-top">
            <div class="container">
                <div class="footer-widgets">
                    <div class="footer-widget">
                        <h3>About Us</h3>
                        <p>FashionHub is a premier online destination for fashion enthusiasts in Nigeria, offering a wide range of clothing and accessories for men, women, and children.</p>
                    </div>
                    <div class="footer-widget">
                        <h3>Quick Links</h3>
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="products.html">Shop</a></li>
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="contact.html">Contact</a></li>
                            <li><a href="faq.html">FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-widget">
                        <h3>Customer Service</h3>
                        <ul>
                            <li><a href="account.html">My Account</a></li>
                            <li><a href="orders.html">Order Tracking</a></li>
                            <li><a href="wishlist.html">Wishlist</a></li>
                            <li><a href="returns.html">Returns & Exchanges</a></li>
                            <li><a href="shipping.html">Shipping Policy</a></li>
                        </ul>
                    </div>
                    <div class="footer-widget">
                        <h3>Newsletter</h3>
                        <p>Subscribe to our newsletter to get updates on our latest offers!</p>
                        <form class="newsletter-form">
                            <input type="email" placeholder="Enter your email">
                            <button type="submit">Subscribe</button>
                        </form>
                        <div class="social-icons">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-pinterest"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="copyright">
                    <p>&copy; 2023 FashionHub. All Rights Reserved.</p>
                </div>
                <div class="payment-methods">
                    <img src="images/payment-methods.png" alt="Payment Methods">
                </div>
            </div>
        </div>
    </footer>

    <div id="notification" class="notification">
        <span id="notification-message"></span>
        <button class="notification-close"><i class="fas fa-times"></i></button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Load emails from localStorage
            loadEmails();
            
            // Handle tab switching
            const tabs = document.querySelectorAll('.email-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    loadEmails(this.getAttribute('data-type'));
                });
            });
            
            // Handle clear emails button
            document.getElementById('clear-emails').addEventListener('click', function() {
                if (confirm('Are you sure you want to clear all emails?')) {
                    localStorage.removeItem('sentEmails');
                    loadEmails();
                    document.getElementById('email-content').innerHTML = `
                        <div class="no-email-selected">
                            <i class="fas fa-envelope-open"></i>
                            <h3>No Email Selected</h3>
                            <p>Select an email from the list to view its content.</p>
                        </div>
                    `;
                }
            });
        });
        
        function loadEmails(type = 'all') {
            const emailItems = document.getElementById('email-items');
            const emails = JSON.parse(localStorage.getItem('sentEmails')) || [];
            
            // Filter emails by type if specified
            const filteredEmails = type === 'all' ? emails : emails.filter(email => email.type === type);
            
            if (filteredEmails.length === 0) {
                emailItems.innerHTML = '<div class="no-emails"><p>No emails found</p></div>';
                return;
            }
            
            // Sort emails by timestamp (newest first)
            filteredEmails.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            let html = '';
            
            filteredEmails.forEach((email, index) => {
                const date = new Date(email.timestamp);
                const formattedDate = date.toLocaleDateString() + ' ' + date.toLocaleTimeString();
                
                html += `
                    <div class="email-item" data-index="${index}">
                        <div class="email-item-header">
                            <div class="email-item-subject">${email.subject}</div>
                            <div class="email-item-date">${formattedDate}</div>
                        </div>
                        <div class="email-item-recipient">To: ${email.to}</div>
                    </div>
                `;
            });
            
            emailItems.innerHTML = html;
            
            // Add click event to email items
            document.querySelectorAll('.email-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.email-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    
                    const index = parseInt(this.getAttribute('data-index'));
                    const email = filteredEmails[index];
                    
                    // Display email content
                    const emailContent = document.getElementById('email-content');
                    
                    // Create a blob with the HTML content
                    const blob = new Blob([email.body], { type: 'text/html' });
                    const url = URL.createObjectURL(blob);
                    
                    emailContent.innerHTML = `
                        <div class="email-content-header">
                            <div class="email-content-subject">${email.subject}</div>
                            <div class="email-content-meta">
                                <div>To: ${email.to}</div>
                                <div>${new Date(email.timestamp).toLocaleString()}</div>
                            </div>
                        </div>
                        <div class="email-content-body">
                            <iframe src="${url}"></iframe>
                        </div>
                    `;
                });
            });
        }
    </script>
</body>
</html>
